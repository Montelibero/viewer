<section class="section">
  <div class="container">
    <div class="mb-4">
      <a class="button is-small is-light" id="btn-back" href="#" data-i18n="back-to-asset">Back</a>
    </div>

    <div class="box">
        <h1 class="title is-5"><span data-i18n="orderbook">Orderbook</span> <span class="has-text-grey-light" id="base-code-display"></span></h1>

        <div id="selection-area">
            <div class="field">
                <div class="is-flex is-align-items-center is-justify-content-space-between mb-2">
                    <label class="label mb-0" data-i18n="select-counter">Select Pair</label>
                    <button class="button is-small is-light" id="btn-swap-pair" data-i18n="swap-pair">Swap pair</button>
                </div>
                <div class="control">
                    <div class="select is-fullwidth" id="select-wrapper">
                        <select id="counter-select">
                            <option value="" disabled selected data-i18n="loading-pools">Loading pairs...</option>
                        </select>
                    </div>
                </div>
            </div>

            <div class="field">
                <label class="label" data-i18n="manual-input">Or enter manually (CODE-ISSUER)</label>
                <div class="field has-addons">
                    <div class="control is-expanded">
                        <input class="input" type="text" id="manual-input" placeholder="XLM or CODE-ISSUER">
                    </div>
                    <div class="control">
                        <button class="button is-info" id="btn-show" data-i18n="btn-show">Show</button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div id="orderbook-container" class="is-hidden">

        <!-- Swap Quotes -->
        <div class="box" id="swap-quotes">
            <h6 class="title is-6 has-text-centered" data-i18n="swap-quotes">Swap quotes</h6>
            <div class="columns is-multiline">
                <div class="column is-6">
                    <h6 class="subtitle is-7 has-text-centered">
                        <span data-i18n="swap-from-base">From</span>
                        <span class="has-text-weight-semibold" id="swap-base-label">Base</span>
                    </h6>
                    <div class="table-container">
                        <table class="table is-fullwidth is-striped is-narrow is-size-7">
                            <thead>
                                <tr>
                                    <th data-i18n="swap-send">Send</th>
                                    <th class="has-text-right" data-i18n="swap-receive">Receive</th>
                                    <th class="has-text-right" data-i18n="swap-price">Price</th>
                                </tr>
                            </thead>
                            <tbody id="swap-sell-body"></tbody>
                        </table>
                    </div>
                </div>
                <div class="column is-6">
                    <h6 class="subtitle is-7 has-text-centered">
                        <span data-i18n="swap-from-counter">From</span>
                        <span class="has-text-weight-semibold" id="swap-counter-label">Counter</span>
                    </h6>
                    <div class="table-container">
                        <table class="table is-fullwidth is-striped is-narrow is-size-7">
                            <thead>
                                <tr>
                                    <th data-i18n="swap-send">Send</th>
                                    <th class="has-text-right" data-i18n="swap-receive">Receive</th>
                                    <th class="has-text-right" data-i18n="swap-price">Price</th>
                                </tr>
                            </thead>
                            <tbody id="swap-buy-body"></tbody>
                        </table>
                    </div>
                </div>
            </div>
            <p class="help has-text-centered is-hidden" id="swap-note" data-i18n="swap-no-path">No swap path found.</p>
        </div>

        <!-- Combined Orderbook -->
        <div class="box">
            <div class="level is-mobile mb-2">
                <div class="level-left">
                    <h6 class="title is-6 mb-0" data-i18n="orderbook">Orderbook</h6>
                </div>
                <div class="level-right">
                    <div class="field has-addons is-small">
                        <p class="control">
                            <span class="button is-static is-small" data-i18n="price-step">Step</span>
                        </p>
                        <p class="control">
                            <span class="select is-small">
                                <select id="price-step-select">
                                    <option value="0">Auto</option>
                                    <option value="0.0001">0.0001</option>
                                    <option value="0.001">0.001</option>
                                    <option value="0.01">0.01</option>
                                    <option value="0.1">0.1</option>
                                    <option value="1">1</option>
                                    <option value="10">10</option>
                                    <option value="100">100</option>
                                </select>
                            </span>
                        </p>
                    </div>
                </div>
            </div>
            <div class="orderbook-combined">
                <table class="table is-fullwidth is-narrow is-size-7 orderbook-table">
                    <thead>
                        <tr>
                            <th><span data-i18n="amount">Amount</span> (<span id="ob-base-code"></span>)</th>
                            <th class="has-text-centered"><span data-i18n="price">Price</span> (<span id="ob-counter-code"></span>)</th>
                            <th class="has-text-right"><span data-i18n="cumulative">Total</span> (<span id="ob-total-code"></span>)</th>
                        </tr>
                    </thead>
                </table>
                <div class="orderbook-scroll" style="max-height: 400px; overflow-y: auto;">
                    <table class="table is-fullwidth is-narrow is-size-7 orderbook-table">
                        <tbody id="asks-body"></tbody>
                    </table>
                    <div class="orderbook-spread" id="orderbook-spread">
                        <span class="spread-price" id="spread-price">--</span>
                        <span class="spread-percent" id="spread-percent"></span>
                    </div>
                    <table class="table is-fullwidth is-narrow is-size-7 orderbook-table">
                        <tbody id="bids-body"></tbody>
                    </table>
                </div>
            </div>
        </div>

        <!-- Charts -->
        <div class="box">
            <div class="level is-mobile mb-2">
                <div class="level-left">
                    <h6 class="title is-6 has-text-centered mb-0" data-i18n="depth-chart-5">Liquidity by level (Top 20)</h6>
                </div>
                <div class="level-right">
                    <label class="checkbox is-size-7">
                        <input type="checkbox" id="depth-log-5">
                        <span data-i18n="log-scale">Log Scale</span>
                    </label>
                </div>
            </div>
            <div class="orderbook-chart">
                <canvas id="depth-chart-5"></canvas>
            </div>
        </div>
        <div class="box">
            <div class="level is-mobile mb-2">
                <div class="level-left">
                    <h6 class="title is-6 has-text-centered mb-0" data-i18n="depth-chart-6">Price impact (Avg price vs size)</h6>
                </div>
                <div class="level-right">
                    <label class="checkbox is-size-7">
                        <input type="checkbox" id="depth-x-balance-6">
                        <span data-i18n="x-balance-scale">Balance scale</span>
                    </label>
                </div>
            </div>
            <div class="orderbook-chart">
                <canvas id="depth-chart-6"></canvas>
            </div>
        </div>

    </div>

    <article class="message is-danger is-hidden mt-4" id="error-box">
      <div class="message-body" id="error-message"></div>
    </article>
  </div>
</section>
